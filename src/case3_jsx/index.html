<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React勉強会資料</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>

<body>
    <div id="root"></div>

    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>

    <!-- 参考 : https://ja.reactjs.org/docs/add-react-to-a-website.html#quickly-try-jsx -->
    <script type="text/babel">
        /**
         * あえて直書きする
         */

        /**
         * @const {string[]} keywords 重要なキーワード
         */
        const keywords = [
            "jsx,jsとの違い",
            "babel,プリコンパイル",
            "webpack,モジュールバンドル",
            "nodejs,ブラウザとの違い",
            "react,reactの「核」は何か",
            "create-react-app,何を内部で行っているのか",
        ];

        /**
         * @method switchMainView メインとなる要素の表示/非表示を切り替える
         */
        const switchMainView = () => {
            /**
             * stateを利用していないので不自然
             */
            const main = document.getElementById("main");
            main.hidden = !main.hidden;
        };

        /**
         * @method createMainParagraphs キーワード配列をもとに、段落群を作成する
         * @returns {JSX.Element[]} 作成した段落の配列
         */
        const createMainParagraphs = () => {
            const paragraphs = keywords.map((text) => {
                const p = <p>{text}</p>;
                return p;
            });
            return paragraphs;
        };

        /**
         * @method createTitle タイトルテキストを作成する
         * @returns {JSX.Element} 作成したテキストヘッダー要素
         */
        const createTitle = () => {
            const h1 = <h1 className="text-4xl py-5">React勉強会</h1>;
            return h1;
        };

        /**
         * @method createButton キーワード表示ボタンを作成する
         * @returns {JSX.Element} 作成したボタン要素
         */
        const createButton = () => {
            const button = (
                <button
                    className="
                        px-8
                        py-2
                        my-5
                        bg-green-500
                        hover:bg-green-700
                        rounded-lg
                        text-white
                        font-bold
                    "
                    onClick={() => switchMainView()}
                >
                    キーワードを表示する
                </button>
            );
            return button;
        };

        /**
         * @method createMainContent メインの要素を作成する
         * @returns {JSX.Element} 作成したメイン要素
         * @description 初期状態は非表示
         */
        const createMainContent = () => {
            const paragraphs = createMainParagraphs();
            const main = (
                <main id="main" className="bg-white w-1/2 mx-auto py-5" hidden={true}>
                    {paragraphs}
                </main>
            );
            return main;
        };

        /**
         * @summary 各要素を作成し、rootに付与する(分割代入)
         */
        const [title, showButton, main] = [
            createTitle(),
            createButton(),
            createMainContent(),
        ];
        const root = document.getElementById("root");
        const contents = (
            <div>
                {title}
                {showButton}
                {main}
            </div>
        );
        ReactDOM.render(contents, root);

        /**
         * @summary body全体のデザイン適用
         */
        document.body.classList.add("bg-green-100", "text-center");
    </script>
</body>

</html>